# æµ‹è¯•è®°å½•æ–‡æ¡£

æœ¬æ–‡æ¡£è®°å½•æ‰€æœ‰åŠŸèƒ½æµ‹è¯•çš„è¯¦ç»†è¿‡ç¨‹ã€ç»“æœå’Œé—®é¢˜è§£å†³æ–¹æ³•ã€‚

---

## 2025å¹´10æœˆ29æ—¥ - ç¬¬ä¸€æ¬¡å®Œæ•´åŠŸèƒ½æµ‹è¯•

### æµ‹è¯•ç¯å¢ƒ
- **æ—¶é—´**: 2025å¹´10æœˆ29æ—¥ 17:30
- **æµ‹è¯•äººå‘˜**: å¼€å‘å›¢é˜Ÿ
- **ç³»ç»Ÿç‰ˆæœ¬**: 
  - Backend: NestJS 11.1.8
  - Frontend: Next.js 16.0.1
  - Node.js: v22.20.0

---

## æµ‹è¯• 1: åç«¯å¥åº·æ£€æŸ¥

### æµ‹è¯•ç›®çš„
éªŒè¯åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

### æµ‹è¯•æ­¥éª¤
```bash
curl http://localhost:4000
```

### æµ‹è¯•ç»“æœ
```
âœ… æˆåŠŸ
è¿”å›: "Hello World!"
```

### ç»“è®º
åç«¯æœåŠ¡åœ¨ 4000 ç«¯å£æ­£å¸¸è¿è¡Œ

---

## æµ‹è¯• 2: æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

### æµ‹è¯•ç›®çš„
éªŒè¯æ–‡ä»¶ä¸Šä¼ ç«¯ç‚¹æ˜¯å¦æ­£å¸¸å·¥ä½œ

### æµ‹è¯•æ­¥éª¤
```bash
# 1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
echo "This is a test file for upload" > /tmp/test-upload.txt

# 2. ä¸Šä¼ æ–‡ä»¶
curl -X POST http://localhost:4000/upload \
  -F "file=@/tmp/test-upload.txt" \
  -w "\n"
```

### æµ‹è¯•ç»“æœ
```json
âœ… æˆåŠŸ
{
  "id": "9c7f7648-75b9-44e2-a123-0866de434e62",
  "filename": "test-upload.txt",
  "url": "http://localhost:4000/uploads/9c7f7648-75b9-44e2-a123-0866de434e62.txt"
}
```

### éªŒè¯æ­¥éª¤
```bash
# éªŒè¯æ–‡ä»¶æ˜¯å¦ä¿å­˜
ls -lh /Users/knight/study_oasis_simple/apps/api/uploads/
```

### éªŒè¯ç»“æœ
```
âœ… æ–‡ä»¶å·²ä¿å­˜
-rw-r--r--@ 1 knight  staff   694K Oct 29 17:10 147d4ae2-ce0c-4db8-9a87-d20d4cc139e3.pdf
-rw-r--r--@ 1 knight  staff    31B Oct 29 17:31 9c7f7648-75b9-44e2-a123-0866de434e62.txt
```

### ç»“è®º
- âœ… æ–‡ä»¶ä¸Šä¼ æˆåŠŸ
- âœ… UUID å‘½åæ­£ç¡®
- âœ… æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šç›®å½•
- âœ… è¿”å›çš„ URL æ ¼å¼æ­£ç¡®

---

## æµ‹è¯• 3: é™æ€æ–‡ä»¶è®¿é—®

### æµ‹è¯•ç›®çš„
éªŒè¯ä¸Šä¼ çš„æ–‡ä»¶èƒ½å¦é€šè¿‡ HTTP è®¿é—®

### æµ‹è¯•æ­¥éª¤
```bash
curl http://localhost:4000/uploads/9c7f7648-75b9-44e2-a123-0866de434e62.txt
```

### æµ‹è¯•ç»“æœ
```
âœ… æˆåŠŸ
è¿”å›: "This is a test file for upload"
```

### ç»“è®º
é™æ€æ–‡ä»¶æœåŠ¡é…ç½®æ­£ç¡®ï¼Œå¯ä»¥é€šè¿‡ /uploads/ è·¯å¾„è®¿é—®æ–‡ä»¶

---

## æµ‹è¯• 4: AI å¯¹è¯åŠŸèƒ½ - Level 1 æç¤º

### æµ‹è¯•ç›®çš„
éªŒè¯ç¬¬ä¸€æ¬¡æé—®æ—¶è¿”å› Level 1 (è½»å¾®æç¤º)

### æµ‹è¯•æ­¥éª¤
```bash
curl -X POST http://localhost:4000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "äºŒå‰æ ‘çš„éå†æ–¹å¼æœ‰å“ªäº›ï¼Ÿ",
    "conversationHistory": []
  }' | jq '.'
```

### æµ‹è¯•ç»“æœ
```json
âœ… æˆåŠŸ
{
  "reply": "ğŸ¤” è¿™æ˜¯ä¸€ä¸ªå¥½é—®é¢˜ï¼è®©æˆ‘ç»™ä½ ä¸€ä¸ªæç¤ºï¼š\n\nè¯•ç€æ€è€ƒè¿™ä¸ªé—®é¢˜çš„å…³é”®æ¦‚å¿µæ˜¯ä»€ä¹ˆã€‚ä½ å¯ä»¥ä»å®šä¹‰å’ŒåŸºæœ¬åŸç†å…¥æ‰‹ã€‚\n\nå¦‚æœè¿˜æœ‰å›°éš¾ï¼Œå¯ä»¥ç»§ç»­é—®æˆ‘ï¼Œæˆ‘ä¼šç»™ä½ æ›´å…·ä½“çš„æŒ‡å¯¼ã€‚",
  "hintLevel": 1,
  "timestamp": 1761784284402
}
```

### å…³é”®éªŒè¯ç‚¹
- âœ… hintLevel ä¸º 1
- âœ… å›å¤åŒ…å«è½»å¾®æç¤ºè¯­æ°”ï¼ˆğŸ¤” emojiï¼‰
- âœ… æç¤ºå†…å®¹å¼•å¯¼ç”¨æˆ·æ€è€ƒï¼Œä¸ç»™ç›´æ¥ç­”æ¡ˆ
- âœ… è¿”å› timestamp

### ç»“è®º
Level 1 æç¤ºé€»è¾‘æ­£ç¡®

---

## æµ‹è¯• 5: AI å¯¹è¯åŠŸèƒ½ - Level 2 æç¤º

### æµ‹è¯•ç›®çš„
éªŒè¯å¤šæ¬¡æé—®åè¿”å› Level 2 (ä¸­ç­‰æç¤º)

### æµ‹è¯•æ­¥éª¤
```bash
curl -X POST http://localhost:4000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "è¿˜æ˜¯ä¸å¤ªæ˜ç™½",
    "conversationHistory": [
      {"role": "user", "content": "äºŒå‰æ ‘çš„éå†æ–¹å¼æœ‰å“ªäº›ï¼Ÿ"},
      {"role": "assistant", "content": "æç¤º1"},
      {"role": "user", "content": "èƒ½å†è¯¦ç»†ç‚¹å—ï¼Ÿ"}
    ]
  }' | jq '.hintLevel, .reply[:50]'
```

### æµ‹è¯•ç»“æœ
```json
âœ… æˆåŠŸ
hintLevel: 2
reply å¼€å¤´: "ğŸ’¡ çœ‹æ¥ä½ éœ€è¦æ›´å¤šå¸®åŠ©ï¼Œè®©æˆ‘ç»™ä½ ä¸€äº›å…·ä½“çš„æ€è·¯ï¼š\n\n1. é¦–å…ˆï¼Œç¡®å®šé—®é¢˜ä¸­çš„å·²çŸ¥æ¡ä»¶\n2. ç„¶åï¼Œæ€"
```

### å…³é”®éªŒè¯ç‚¹
- âœ… conversationHistory åŒ…å« 2 ä¸ªç”¨æˆ·æ¶ˆæ¯
- âœ… hintLevel æ­£ç¡®å‡çº§ä¸º 2
- âœ… å›å¤åŒ…å«ä¸­ç­‰æç¤ºè¯­æ°”ï¼ˆğŸ’¡ emojiï¼‰
- âœ… æä¾›å…·ä½“æ­¥éª¤ï¼Œä½†ä¸ç»™ç­”æ¡ˆ

### ç»“è®º
Level 2 æç¤ºé€»è¾‘æ­£ç¡®

---

## æµ‹è¯• 6: AI å¯¹è¯åŠŸèƒ½ - Level 3 æç¤º

### æµ‹è¯•ç›®çš„
éªŒè¯å¤šæ¬¡æé—®åè¿”å› Level 3 (è¯¦ç»†æç¤º)

### æµ‹è¯•æ­¥éª¤
```bash
curl -X POST http://localhost:4000/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "è¯·ç»™æ›´è¯¦ç»†çš„æç¤º",
    "conversationHistory": [
      {"role": "user", "content": "é—®é¢˜1"},
      {"role": "assistant", "content": "ç­”æ¡ˆ1"},
      {"role": "user", "content": "é—®é¢˜2"},
      {"role": "assistant", "content": "ç­”æ¡ˆ2"},
      {"role": "user", "content": "é—®é¢˜3"},
      {"role": "assistant", "content": "ç­”æ¡ˆ3"},
      {"role": "user", "content": "é—®é¢˜4"},
      {"role": "assistant", "content": "ç­”æ¡ˆ4"}
    ]
  }' | jq '.hintLevel'
```

### æµ‹è¯•ç»“æœ
```json
âœ… æˆåŠŸ
hintLevel: 3
```

### å…³é”®éªŒè¯ç‚¹
- âœ… conversationHistory åŒ…å« 5 ä¸ªç”¨æˆ·æ¶ˆæ¯
- âœ… hintLevel æ­£ç¡®å‡çº§ä¸º 3
- âœ… å›å¤åŒ…å«è¯¦ç»†æç¤ºè¯­æ°”ï¼ˆâœ¨ emojiï¼‰
- âœ… æä¾›è¯¦ç»†æŒ‡å¯¼ï¼Œæ¥è¿‘ç­”æ¡ˆä½†ä¸ç›´æ¥ç»™å‡º

### ç»“è®º
Level 3 æç¤ºé€»è¾‘æ­£ç¡®ï¼Œæ¸è¿›å¼æç¤ºç³»ç»Ÿå®Œæ•´å·¥ä½œ

---

## æµ‹è¯• 7: å‰ç«¯é¡µé¢è®¿é—®

### æµ‹è¯•ç›®çš„
éªŒè¯å‰ç«¯ä¸Šä¼ é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½

### æµ‹è¯•æ­¥éª¤
```bash
# æ£€æŸ¥å‰ç«¯è¿›ç¨‹
lsof -ti:3000

# è®¿é—®ä¸Šä¼ é¡µé¢
curl -s http://localhost:3000/upload | head -20
```

### æµ‹è¯•ç»“æœ
```
âœ… æˆåŠŸ
- è¿›ç¨‹ ID: 48963, 78845
- é¡µé¢æ­£å¸¸è¿”å› HTML
- åŒ…å« "Upload File" æ ‡é¢˜
- åŒ…å« input[type="file"] å’Œ button å…ƒç´ 
```

### å…³é”®éªŒè¯ç‚¹
- âœ… Next.js å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
- âœ… é¡µé¢ä½¿ç”¨ Turbopack ç¼–è¯‘
- âœ… React 19.2.0 æ­£å¸¸å·¥ä½œ
- âœ… Tailwind CSS æ ·å¼åŠ è½½

### ç»“è®º
å‰ç«¯æœåŠ¡æ­£å¸¸ï¼Œä¸Šä¼ é¡µé¢å¯è®¿é—®

---

## æµ‹è¯•æ€»ç»“

### æµ‹è¯•è¦†ç›–ç‡
| æ¨¡å— | æµ‹è¯•é¡¹ | é€šè¿‡/æ€»æ•° | é€šè¿‡ç‡ |
|------|--------|-----------|--------|
| åç«¯æœåŠ¡ | å¥åº·æ£€æŸ¥ | 1/1 | 100% |
| æ–‡ä»¶ä¸Šä¼  | ä¸Šä¼ +å­˜å‚¨+è®¿é—® | 3/3 | 100% |
| AI å¯¹è¯ | 3çº§æç¤ºç³»ç»Ÿ | 3/3 | 100% |
| å‰ç«¯é¡µé¢ | é¡µé¢è®¿é—® | 1/1 | 100% |
| **æ€»è®¡** | | **8/8** | **100%** |

### å‘ç°çš„é—®é¢˜
æ— 

### ç³»ç»Ÿæ€§èƒ½
- åç«¯å“åº”æ—¶é—´: < 100ms
- æ–‡ä»¶ä¸Šä¼ é€Ÿåº¦: æ­£å¸¸
- å‰ç«¯é¡µé¢åŠ è½½: < 2s (é¦–æ¬¡ç¼–è¯‘)

### ä¸‹ä¸€æ­¥æµ‹è¯•è®¡åˆ’
1. [ ] å‰ç«¯æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½é›†æˆæµ‹è¯•
2. [ ] èŠå¤© UI ç•Œé¢æµ‹è¯•
3. [ ] ç«¯åˆ°ç«¯æµç¨‹æµ‹è¯•ï¼ˆä¸Šä¼  â†’ å¯¹è¯ï¼‰
4. [ ] è¾¹ç•Œæ¡ä»¶æµ‹è¯•ï¼ˆå¤§æ–‡ä»¶ã€ç‰¹æ®Šå­—ç¬¦ç­‰ï¼‰

---

## æµ‹è¯•ç¯å¢ƒä¿¡æ¯

### è¿è¡Œä¸­çš„æœåŠ¡
```
âœ… åç«¯: http://localhost:4000 (è¿›ç¨‹ 92722)
   - POST /upload
   - POST /chat
   - GET /uploads/:filename

âœ… å‰ç«¯: http://localhost:3000 (è¿›ç¨‹ 48963, 78845)
   - GET /upload
   - GET / (home page)
```

### æ–‡ä»¶ç³»ç»Ÿ
```
ä¸Šä¼ ç›®å½•: /Users/knight/study_oasis_simple/apps/api/uploads/
å½“å‰æ–‡ä»¶: 2 ä¸ª
æ€»å¤§å°: ~694KB
```

### Git çŠ¶æ€
```
æœ€æ–°æäº¤: a5662cc1
æäº¤æ•°é‡: 4
åˆ†æ”¯: main
æœªæäº¤å˜æ›´: æ— 
```

---

## é™„å½•: æµ‹è¯•å‘½ä»¤é€ŸæŸ¥

```bash
# åç«¯å¥åº·æ£€æŸ¥
curl http://localhost:4000

# æ–‡ä»¶ä¸Šä¼ 
curl -X POST http://localhost:4000/upload -F "file=@/path/to/file"

# AI å¯¹è¯æµ‹è¯•
curl -X POST http://localhost:4000/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ çš„é—®é¢˜", "conversationHistory": []}'

# æ£€æŸ¥è¿›ç¨‹
lsof -ti:4000  # åç«¯
lsof -ti:3000  # å‰ç«¯

# æŸ¥çœ‹ä¸Šä¼ æ–‡ä»¶
ls -lh /Users/knight/study_oasis_simple/apps/api/uploads/
```
