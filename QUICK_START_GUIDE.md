# Railway + Supabase + Google Vision OCR å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ æ¨èæ–¹æ¡ˆæ€»ç»“

**ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªç»„åˆï¼Ÿ**

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| âœ… **æœ€ç®€å•** | 30 åˆ†é’Ÿå³å¯ä¸Šçº¿ |
| âœ… **æˆæœ¬æœ€ä½** | å¼€å‘é˜¶æ®µå‡ ä¹ $0ï¼Œç”Ÿäº§ç¯å¢ƒ $55-61/æœˆ |
| âœ… **OCR æœ€å¥½** | Google Vision å‡†ç¡®ç‡ 98-99% |
| âœ… **æ‰©å±•æ€§å¼º** | è‡ªåŠ¨æ‰©å±•ï¼Œæ”¯æŒ 0-10000 ç”¨æˆ· |
| âœ… **æ•°æ®åˆ†æå®Œå–„** | å†…ç½®åŸ‹ç‚¹ + GA4 + Supabase æŸ¥è¯¢ |

---

## ğŸ“‹ å®Œæ•´æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æŠ€æœ¯æ ˆå…¨è§ˆ                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‰ç«¯: Next.js 14 + React + TypeScript + Tailwind CSS   â”‚
â”‚ æ‰˜ç®¡: Vercel (å…è´¹)                                     â”‚
â”‚ åˆ†æ: Google Analytics 4 (å…è´¹)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åç«¯: NestJS + TypeScript                              â”‚
â”‚ æ‰˜ç®¡: Railway ($20/æœˆ)                                 â”‚
â”‚ æ—¥å¿—: Winston + è‡ªå®šä¹‰åŸ‹ç‚¹                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®åº“: PostgreSQL (Supabase, $0-25/æœˆ)               â”‚
â”‚ ORM: Prisma                                            â”‚
â”‚ åˆ†æ: Supabase Dashboard + SQL æŸ¥è¯¢                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶å­˜å‚¨: AWS S3 / Supabase Storage ($0-2/æœˆ)         â”‚
â”‚ OCR: Google Cloud Vision API ($0-15/æœˆ)               â”‚
â”‚ AI: DeepSeek v3 API ($10/æœˆ)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ€»æˆæœ¬: $0-61/æœˆï¼ˆ1000 æ´»è·ƒç”¨æˆ·ï¼‰
```

---

## ğŸš€ 5 æ­¥å¿«é€Ÿéƒ¨ç½²

### Step 1: åˆ›å»º Supabase æ•°æ®åº“ (5 åˆ†é’Ÿ)

1. è®¿é—® https://supabase.com
2. ç‚¹å‡» "New Project"
3. å¡«å†™ä¿¡æ¯:
   - Name: `study-oasis`
   - Database Password: è®¾ç½®å¼ºå¯†ç ï¼ˆä¿å­˜å¥½ï¼ï¼‰
   - Region: é€‰æ‹©ç¦»ç”¨æˆ·æœ€è¿‘çš„åŒºåŸŸ
4. ç­‰å¾…åˆå§‹åŒ–ï¼ˆ~2 åˆ†é’Ÿï¼‰
5. è·å–è¿æ¥å­—ç¬¦ä¸²:
   - å·¦ä¾§èœå• â†’ Settings â†’ Database
   - å¤åˆ¶ `Connection string` (URI)
   - æ ¼å¼: `postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres`

**ä¿å­˜ç¯å¢ƒå˜é‡**:
```bash
DATABASE_URL="postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres"
```

---

### Step 2: é…ç½® Google Cloud Vision API (10 åˆ†é’Ÿ)

#### 2.1 åˆ›å»º Google Cloud é¡¹ç›®

1. è®¿é—® https://console.cloud.google.com
2. ç‚¹å‡»é¡¶éƒ¨é¡¹ç›®ä¸‹æ‹‰æ¡† â†’ "New Project"
3. é¡¹ç›®åç§°: `study-oasis`
4. ç‚¹å‡» "Create"

#### 2.2 å¯ç”¨ Vision API

```bash
# å¦‚æœå·²å®‰è£… gcloud CLI
gcloud services enable vision.googleapis.com

# æˆ–åœ¨ç½‘é¡µæ“ä½œ:
# è®¿é—® https://console.cloud.google.com/apis/library/vision.googleapis.com
# ç‚¹å‡» "Enable"
```

#### 2.3 åˆ›å»ºæœåŠ¡è´¦å·

1. å¯¼èˆª: IAM & Admin â†’ Service Accounts
2. ç‚¹å‡» "Create Service Account"
3. å¡«å†™:
   - Name: `study-oasis-api`
   - Description: `API server access`
4. ç‚¹å‡» "Create and Continue"
5. æˆæƒè§’è‰²: `Cloud Vision AI Service Agent`
6. ç‚¹å‡» "Done"

#### 2.4 åˆ›å»ºå¯†é’¥

1. ç‚¹å‡»åˆšåˆ›å»ºçš„æœåŠ¡è´¦å·
2. åˆ‡æ¢åˆ° "Keys" æ ‡ç­¾
3. ç‚¹å‡» "Add Key" â†’ "Create new key"
4. é€‰æ‹© "JSON"
5. ä¸‹è½½å¯†é’¥æ–‡ä»¶ï¼ˆä¿å­˜ä¸º `google-credentials.json`ï¼‰

**ä¿å­˜ç¯å¢ƒå˜é‡**:
```bash
# Railway éƒ¨ç½²æ—¶ä¸Šä¼ æ–‡ä»¶ï¼Œæœ¬åœ°å¼€å‘ç”¨ç»å¯¹è·¯å¾„
GOOGLE_APPLICATION_CREDENTIALS=/path/to/google-credentials.json
```

---

### Step 3: éƒ¨ç½²åç«¯åˆ° Railway (10 åˆ†é’Ÿ)

#### 3.1 å‡†å¤‡ä»£ç 

ç¡®ä¿ä½ çš„ä»“åº“å·²æ¨é€åˆ° GitHub:
```bash
git add .
git commit -m "Ready for deployment"
git push origin main
```

#### 3.2 è¿æ¥ Railway

1. è®¿é—® https://railway.app
2. ä½¿ç”¨ GitHub ç™»å½•
3. ç‚¹å‡» "New Project"
4. é€‰æ‹© "Deploy from GitHub repo"
5. é€‰æ‹©ä½ çš„ä»“åº“: `study-oasis`
6. Railway è‡ªåŠ¨æ£€æµ‹åˆ° Monorepo

#### 3.3 é…ç½®åç«¯æœåŠ¡

1. ç‚¹å‡» "New Service" â†’ "GitHub Repo"
2. é…ç½®:
   - **Root Directory**: `apps/api`
   - **Build Command**: `pnpm install && pnpm run build`
   - **Start Command**: `pnpm run start:prod`

#### 3.4 è®¾ç½®ç¯å¢ƒå˜é‡

åœ¨ Railway é¡¹ç›®ä¸­ç‚¹å‡» "Variables"ï¼Œæ·»åŠ :

```bash
NODE_ENV=production
PORT=4000

# æ•°æ®åº“ï¼ˆä» Supabase å¤åˆ¶ï¼‰
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres

# Google Vision APIï¼ˆä¸Šä¼  JSON å¯†é’¥ï¼‰
GOOGLE_APPLICATION_CREDENTIALS=/app/google-credentials.json

# DeepSeek API
DEEPSEEK_API_KEY=your_deepseek_key

# AWS S3ï¼ˆå¦‚æœä½¿ç”¨ï¼‰
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_key
AWS_SECRET_ACCESS_KEY=your_secret
AWS_S3_BUCKET=study-oasis-uploads

# CORS é…ç½®
CORS_ORIGIN=https://your-vercel-app.vercel.app
```

#### 3.5 ä¸Šä¼  Google å¯†é’¥æ–‡ä»¶

Railway æš‚ä¸æ”¯æŒç›´æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œéœ€è¦è½¬æ¢ä¸º Base64:

```bash
# æœ¬åœ°æ‰§è¡Œ
base64 google-credentials.json > google-credentials.base64

# åœ¨ Railway Variables æ·»åŠ 
GOOGLE_CREDENTIALS_BASE64=<base64 å†…å®¹>
```

ç„¶ååœ¨ä»£ç ä¸­è§£ç :
```typescript
// apps/api/src/main.ts
if (process.env.GOOGLE_CREDENTIALS_BASE64) {
  const credentials = Buffer.from(
    process.env.GOOGLE_CREDENTIALS_BASE64,
    'base64'
  ).toString('utf-8');
  
  fs.writeFileSync('/tmp/google-credentials.json', credentials);
  process.env.GOOGLE_APPLICATION_CREDENTIALS = '/tmp/google-credentials.json';
}
```

#### 3.6 éƒ¨ç½²

Railway ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼Œç­‰å¾…å®Œæˆï¼ˆçº¦ 3-5 åˆ†é’Ÿï¼‰ã€‚

éƒ¨ç½²æˆåŠŸåï¼Œè·å– API URL:
- Railway Dashboard â†’ Settings â†’ Domains
- å¤åˆ¶ URL: `https://your-app.railway.app`

---

### Step 4: éƒ¨ç½²å‰ç«¯åˆ° Vercel (5 åˆ†é’Ÿ)

#### 4.1 è¿æ¥ Vercel

1. è®¿é—® https://vercel.com
2. ä½¿ç”¨ GitHub ç™»å½•
3. ç‚¹å‡» "New Project"
4. å¯¼å…¥ä½ çš„ GitHub ä»“åº“

#### 4.2 é…ç½®æ„å»º

Vercel è‡ªåŠ¨æ£€æµ‹ Next.jsï¼Œä½†éœ€è¦é…ç½® Monorepo:

- **Root Directory**: `apps/web`
- **Build Command**: `cd ../.. && pnpm install && cd apps/web && pnpm run build`
- **Output Directory**: `.next`
- **Install Command**: `pnpm install`

#### 4.3 è®¾ç½®ç¯å¢ƒå˜é‡

```bash
# Railway API URL
NEXT_PUBLIC_API_URL=https://your-app.railway.app

# Google Analytics 4
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog (å¯é€‰)
NEXT_PUBLIC_POSTHOG_KEY=your_posthog_key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
```

#### 4.4 éƒ¨ç½²

ç‚¹å‡» "Deploy"ï¼Œç­‰å¾…å®Œæˆï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰ã€‚

éƒ¨ç½²æˆåŠŸåï¼Œè·å–å‰ç«¯ URL:
- å¤åˆ¶ Vercel ç”Ÿæˆçš„åŸŸå: `https://your-app.vercel.app`

---

### Step 5: é…ç½®æ•°æ®åº“è¡¨ (10 åˆ†é’Ÿ)

#### 5.1 å®‰è£… Prisma

```bash
cd apps/api
pnpm add prisma @prisma/client
pnpm add -D @prisma/cli
```

#### 5.2 åˆå§‹åŒ– Prisma

```bash
npx prisma init
```

#### 5.3 é…ç½® schema.prisma

å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ° `apps/api/prisma/schema.prisma`:

```prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String   @id @default(uuid())
  email     String?  @unique
  createdAt DateTime @default(now())
  
  documents     Document[]
  conversations Conversation[]
  
  @@map("users")
}

model Document {
  id          String   @id @default(uuid())
  userId      String?
  filename    String
  s3Key       String?   // AWS S3 è·¯å¾„
  gcsPath     String?   // Google Cloud Storage è·¯å¾„
  mimeType    String
  size        Int
  uploadedAt  DateTime @default(now())
  
  user          User?         @relation(fields: [userId], references: [id])
  ocrResult     OcrResult?
  conversations Conversation[]
  
  @@index([userId])
  @@map("documents")
}

model OcrResult {
  id             String   @id @default(uuid())
  documentId     String   @unique
  fullText       String   @db.Text
  structuredData Json
  language       String
  confidence     Float
  pageCount      Int?
  extractedAt    DateTime @default(now())
  
  document Document @relation(fields: [documentId], references: [id], onDelete: Cascade)
  
  @@map("ocr_results")
}

model Conversation {
  id         String   @id @default(uuid())
  userId     String?
  documentId String?
  title      String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  
  user     User?     @relation(fields: [userId], references: [id])
  document Document? @relation(fields: [documentId], references: [id])
  messages Message[]
  
  @@index([userId])
  @@index([documentId])
  @@map("conversations")
}

model Message {
  id             String   @id @default(uuid())
  conversationId String
  role           String   // 'user' | 'assistant' | 'system'
  content        String   @db.Text
  hintLevel      Int?
  modelUsed      String?  // 'deepseek-chat'
  tokensUsed     Int?
  timestamp      DateTime @default(now())
  
  conversation Conversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  
  @@index([conversationId])
  @@map("messages")
}

// æ•°æ®åŸ‹ç‚¹è¡¨
model AnalyticsEvent {
  id              String   @id @default(uuid())
  userId          String?
  sessionId       String
  eventName       String
  eventCategory   String
  eventProperties Json     @default("{}")
  pageUrl         String?
  referrer        String?
  userAgent       String?
  deviceType      String?
  browser         String?
  os              String?
  createdAt       DateTime @default(now())
  
  @@index([userId, createdAt])
  @@index([eventName, createdAt])
  @@index([sessionId, createdAt])
  @@map("analytics_events")
}

model ApiUsageLog {
  id                  String   @id @default(uuid())
  userId              String?
  endpoint            String
  method              String
  statusCode          Int
  responseTimeMs      Int?
  requestSizeBytes    Int?
  responseSizeBytes   Int?
  externalApiCalls    Json     @default("{}")
  errorMessage        String?
  errorStack          String?  @db.Text
  createdAt           DateTime @default(now())
  
  @@index([userId, createdAt])
  @@index([endpoint, createdAt])
  @@map("api_usage_logs")
}

model UserDailyStat {
  id                    String   @id @default(uuid())
  userId                String?
  date                  DateTime @db.Date
  filesUploaded         Int      @default(0)
  ocrPagesProcessed     Int      @default(0)
  chatMessagesSent      Int      @default(0)
  chatSessions          Int      @default(0)
  apiRequestsTotal      Int      @default(0)
  apiRequestsSuccess    Int      @default(0)
  apiRequestsFailed     Int      @default(0)
  googleVisionCost      Decimal  @default(0) @db.Decimal(10, 4)
  deepseekCost          Decimal  @default(0) @db.Decimal(10, 4)
  storageCost           Decimal  @default(0) @db.Decimal(10, 4)
  totalCost             Decimal  @default(0) @db.Decimal(10, 4)
  activeTimeMinutes     Int      @default(0)
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  
  @@unique([userId, date])
  @@index([userId, date])
  @@map("user_daily_stats")
}
```

#### 5.4 è¿è¡Œè¿ç§»

```bash
# è®¾ç½®æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
export DATABASE_URL="postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres"

# åˆ›å»ºè¿ç§»
npx prisma migrate dev --name init

# ç”Ÿæˆ Prisma Client
npx prisma generate
```

#### 5.5 éªŒè¯æ•°æ®åº“

```bash
# æ‰“å¼€ Prisma Studioï¼ˆå¯è§†åŒ–æ•°æ®åº“ç®¡ç†å·¥å…·ï¼‰
npx prisma studio
```

æˆ–åœ¨ Supabase Dashboard:
- å·¦ä¾§èœå• â†’ Table Editor
- æŸ¥çœ‹æ˜¯å¦æˆåŠŸåˆ›å»ºè¡¨

---

## âœ… éªŒè¯éƒ¨ç½²

### 1. æµ‹è¯•åç«¯ API

```bash
# å¥åº·æ£€æŸ¥
curl https://your-app.railway.app/health

# é¢„æœŸè¿”å›:
# {"status":"ok","database":"connected","timestamp":...}
```

### 2. æµ‹è¯•å‰ç«¯

è®¿é—®: `https://your-app.vercel.app`

- âœ… é¡µé¢æ­£å¸¸åŠ è½½
- âœ… å¯ä»¥ä¸Šä¼ æ–‡ä»¶
- âœ… å¯ä»¥ä¸ AI å¯¹è¯

### 3. æµ‹è¯• Google Vision OCR

ä¸Šä¼ ä¸€ä¸ª PDF æˆ–å›¾ç‰‡æ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹:

```javascript
// åº”è¯¥å¯ä»¥çœ‹åˆ° OCR ç»“æœ
console.log('OCR result:', ocrResult);
```

### 4. æŸ¥çœ‹åŸ‹ç‚¹æ•°æ®

åœ¨ Supabase Dashboard:
1. å·¦ä¾§èœå• â†’ Table Editor
2. é€‰æ‹© `analytics_events` è¡¨
3. åº”è¯¥å¯ä»¥çœ‹åˆ°é¡µé¢æµè§ˆã€æ–‡ä»¶ä¸Šä¼ ç­‰äº‹ä»¶

---

## ğŸ“Š æ•°æ®åˆ†æé…ç½®

### Google Analytics 4

1. è®¿é—® https://analytics.google.com
2. åˆ›å»ºè´¦å·å’Œåª’ä½“èµ„æº
3. è·å– Measurement ID: `G-XXXXXXXXXX`
4. åœ¨ Vercel ç¯å¢ƒå˜é‡ä¸­è®¾ç½®:
   ```
   NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
   ```
5. é‡æ–°éƒ¨ç½²å‰ç«¯

### Supabase æŸ¥è¯¢

åœ¨ Supabase SQL Editor æ‰§è¡ŒæŸ¥è¯¢:

```sql
-- ä»Šæ—¥æ´»è·ƒç”¨æˆ·
SELECT COUNT(DISTINCT user_id) as active_users
FROM analytics_events
WHERE created_at >= CURRENT_DATE;

-- æœ€çƒ­é—¨åŠŸèƒ½
SELECT event_name, COUNT(*) as count
FROM analytics_events
WHERE created_at >= NOW() - INTERVAL '7 days'
GROUP BY event_name
ORDER BY count DESC
LIMIT 10;

-- OCR æˆæœ¬ç»Ÿè®¡
SELECT 
  COUNT(*) as ocr_count,
  CASE 
    WHEN COUNT(*) > 1000 THEN (COUNT(*) - 1000) * 1.5 / 1000
    ELSE 0
  END as estimated_cost_usd
FROM analytics_events
WHERE event_name = 'ocr_success'
  AND created_at >= DATE_TRUNC('month', NOW());
```

---

## ğŸ’° æˆæœ¬ç›‘æ§

### è®¾ç½® Google Cloud é¢„ç®—å‘Šè­¦

```bash
gcloud billing budgets create \
  --billing-account=YOUR_BILLING_ACCOUNT_ID \
  --display-name="Study Oasis Monthly Budget" \
  --budget-amount=50USD \
  --threshold-rule=percent=50 \
  --threshold-rule=percent=90 \
  --threshold-rule=percent=100
```

### å®æ—¶æˆæœ¬æŸ¥è¯¢ API

è®¿é—®: `https://your-app.railway.app/analytics/cost?days=30`

è¿”å›:
```json
{
  "googleVision": {
    "calls": 1500,
    "cost": "0.75"
  },
  "deepseek": {
    "tokens": 100000,
    "cost": "1.00"
  },
  "total": "1.75"
}
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: Railway éƒ¨ç½²å¤±è´¥

**æ£€æŸ¥**:
- âœ… ç¡®è®¤ `apps/api/package.json` æœ‰ `build` å’Œ `start:prod` è„šæœ¬
- âœ… æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
- âœ… æŸ¥çœ‹ Railway Logs é”™è¯¯ä¿¡æ¯

### Q2: Google Vision API è°ƒç”¨å¤±è´¥

**æ£€æŸ¥**:
- âœ… Vision API æ˜¯å¦å·²å¯ç”¨
- âœ… æœåŠ¡è´¦å·å¯†é’¥æ˜¯å¦æ­£ç¡®ä¸Šä¼ 
- âœ… ç¯å¢ƒå˜é‡ `GOOGLE_APPLICATION_CREDENTIALS` è·¯å¾„æ˜¯å¦æ­£ç¡®

### Q3: Prisma è¿ç§»å¤±è´¥

**æ£€æŸ¥**:
- âœ… `DATABASE_URL` æ˜¯å¦æ­£ç¡®
- âœ… Supabase æ•°æ®åº“æ˜¯å¦åœ¨çº¿
- âœ… ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q4: å‰ç«¯æ— æ³•è¿æ¥åç«¯

**æ£€æŸ¥**:
- âœ… `NEXT_PUBLIC_API_URL` æ˜¯å¦è®¾ç½®ä¸º Railway URL
- âœ… Railway API æ˜¯å¦è®¾ç½® CORS å…è®¸ Vercel åŸŸå
- âœ… æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ CORS é”™è¯¯

---

## ğŸ“š ä¸‹ä¸€æ­¥

å®Œæˆéƒ¨ç½²åï¼Œç»§ç»­ä¼˜åŒ–:

1. âœ… **é›†æˆç”¨æˆ·è®¤è¯** (Supabase Auth)
2. âœ… **æ·»åŠ è‡ªå®šä¹‰åŸŸå**
3. âœ… **é…ç½® CI/CD æµ‹è¯•**
4. âœ… **è®¾ç½®ç›‘æ§å‘Šè­¦** (Sentry)
5. âœ… **æ€§èƒ½ä¼˜åŒ–** (Redis ç¼“å­˜)

---

## ğŸ¯ ç›¸å…³æ–‡æ¡£

- ğŸ“„ **ANALYTICS_AND_TRACKING_GUIDE.md** - æ•°æ®åŸ‹ç‚¹å®Œæ•´æŒ‡å—
- ğŸ“„ **GOOGLE_CLOUD_ARCHITECTURE.md** - Google Cloud è¯¦ç»†é…ç½®
- ğŸ“„ **CLOUD_SERVICES_COMPARISON.md** - äº‘æœåŠ¡æ–¹æ¡ˆå¯¹æ¯”
- ğŸ“„ **CLOUD_DATABASE_MIGRATION_PLAN.md** - Supabase é…ç½®æŒ‡å—

---

éœ€è¦å¸®åŠ©ï¼Ÿåœ¨é¡¹ç›®ä¸­åˆ›å»º Issue æˆ–æŸ¥çœ‹æ–‡æ¡£ï¼
