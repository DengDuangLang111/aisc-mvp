# API 服务器环境变量配置

# ============================================
# 服务器配置
# ============================================
PORT=4000
NODE_ENV=development

# 基础 URL（用于返回给前端的文件 URL）
BASE_URL=http://localhost:4000

# CORS 配置（多个域名用逗号分隔）
CORS_ORIGIN=http://localhost:3000,https://your-app.vercel.app

# ============================================
# 数据库配置
# ============================================
# Supabase PostgreSQL 连接字符串
# 格式: postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres
DATABASE_URL="postgresql://postgres:password@localhost:5432/study_oasis"

# ============================================
# Google Cloud 配置
# ============================================
# Google Cloud Storage 和 Vision API 配置
GOOGLE_CLOUD_PROJECT_ID="your-project-id"
GOOGLE_APPLICATION_CREDENTIALS="/path/to/google-credentials.json"
# 或者使用 Base64 编码的密钥（Railway 部署时使用）
# GOOGLE_CREDENTIALS_BASE64="your-base64-encoded-credentials"

# Google Cloud Storage 存储桶
GCS_BUCKET_NAME="study-oasis-uploads"

# ============================================
# AWS S3 配置（可选，如果使用 AWS S3 而不是 GCS）
# ============================================
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-access-key"
AWS_SECRET_ACCESS_KEY="your-secret-key"
AWS_S3_BUCKET="study-oasis-uploads"

# ============================================
# 文件上传配置（本地开发用）
# ============================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# ============================================
# AI 服务配置
# ============================================
# DeepSeek API Key (https://platform.deepseek.com/)
# 获取步骤：1) 注册账号 2) 创建 API Key 3) 复制到此处
DEEPSEEK_API_KEY="sk-your-deepseek-api-key-here"
DEEPSEEK_API_BASE_URL="https://api.deepseek.com/v1"
DEEPSEEK_MODEL="deepseek-chat"

# ============================================
# Rate Limiting 配置
# ============================================
RATE_LIMIT_TTL=60000
RATE_LIMIT_MAX=20

# ============================================
# Cache 配置
# ============================================
CACHE_TTL=60000
CACHE_MAX=100

# ============================================
# 日志配置
# ============================================
LOG_LEVEL=info
LOG_FILE_ENABLED="true"
LOG_FILE_PATH="./logs"

# ============================================
# 数据埋点配置
# ============================================
ANALYTICS_ENABLED="true"
